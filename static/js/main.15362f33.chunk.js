(this.webpackJsonpblog=this.webpackJsonpblog||[]).push([[0],{182:function(e,n,t){e.exports=t(341)},188:function(e,n,t){},341:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),o=t(30),u=t.n(o),c=(t(187),t(188),t(20)),i=t(46),l=t(156),s=function(e){if(console.log(e.response),422===e.response.status){var n=e.response.data.errors,t=n.email,r=n.username,a=t?"Email ".concat(t):"",o=r?"Username ".concat(r):"",u="".concat(a,"\n").concat(o);alert(u)}else alert("\u0423\u043f\u0441 :) \u0447\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a, \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u044c \u043f\u043e\u0437\u0436\u0435")},p=function(e){if(422===e.response.status){var n=e.response.data.errors["email or password"],t="Email or password ".concat(n);alert(t)}else alert("\u0423\u043f\u0441 :) \u0447\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a, \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u044c \u043f\u043e\u0437\u0436\u0435")},m=function(e){localStorage.setItem("token",e)},d=function(){return localStorage.getItem("token")},E=function(){localStorage.clear()},f=Object(i.c)({newUser:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1?arguments[1]:void 0,t=n.type,r=n.response;switch(t){case"CREATE_USER_REQUEST":return e;case"CREATE_USER_FAILURE":return{error:r};case"CREATE_USER_SUCCESS":return 0;default:return e}},authenticationUser:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1?arguments[1]:void 0,t=n.type,r=n.response;switch(t){case"LOGIN_USER_REQUEST":return e;case"LOGIN_USER_FAILURE":return{error:r};case"LOGIN_USER_SUCCESS":return 0;default:return e}},currentUser:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1?arguments[1]:void 0,t=n.type,r=n.response;switch(t){case"CHECK_USER_REQUEST":return e;case"CHECK_USER_SUCCESS":return r.data.user;case"CHECK_USER_FAILURE":return{error:r};case"LOGIN_USER_SUCCESS":return m(r.data.user.token),r.data.user;case"LOGOUT_USER":return E(),0;case"CREATE_USER_SUCCESS":return m(r.data.user.token),r.data.user;default:return e}}}),g=Object(i.d)(f,Object(i.a)(l.a)),h=t(57),b=t(58),v=t(61),x=t(60),U=t(5),S=t(37),w=t(342),C=t(344),O=t(117),y=t(90),R=t(14),_=t(15);function j(){var e=Object(R.a)(["\nmargin-top: 59px;\nmargin-right: auto;\nmargin-left: auto;\nwidth: 384px;\n\npadding: 48px 32px;\n\nbackground: #FFFFFF;\nborder: 1px solid #D9D9D9;\n\nbox-shadow: 0px 0.608796px 2.93329px rgba(0, 0, 0, 0.0196802), 0px 1.46302px 7.04911px rgba(0, 0, 0, 0.0282725), 0px 2.75474px 13.2728px rgba(0, 0, 0, 0.035), 0px 4.91399px 23.6765px rgba(0, 0, 0, 0.0417275), 0px 9.19107px 44.2843px rgba(0, 0, 0, 0.0503198), 0px 22px 106px rgba(0, 0, 0, 0.07);\nborder-radius: 6px;\n"]);return j=function(){return e},e}function k(){var e=Object(R.a)(["\nmargin-top: 20px;\nborder: 1px solid #E8E8E8;\n"]);return k=function(){return e},e}function I(){var e=Object(R.a)(["\ntext-align: center;\n\n"]);return I=function(){return e},e}function F(){var e=Object(R.a)(["\nmargin-right: auto;\nmargin-left: auto;\n\nmargin-top: 8px;\n"]);return F=function(){return e},e}function T(){var e=Object(R.a)(["\n\n\nmargin-right: auto;\nmargin-left: auto;\nfont-weight: bold;\nfont-size: 20px;\nmargin-bottom: 20px;\ncolor: #262626;\n\n\n\n"]);return T=function(){return e},e}function A(){var e=Object(R.a)(["\ndisplay: block;\nmargin-top: 12px;\nfont-weight: normal;\nfont-size: 14px;\n\ncolor: #262626;\n\n"]);return A=function(){return e},e}var P=_.a.label(A()),L=_.a.div(T()),N=_.a.div(F()),G=_.a.p(I()),D=_.a.hr(k()),H=_.a.div(j()),q=t(47),z=t.n(q),K=t(92),Q=t(93),V=t.n(Q),B="https://conduit.productionready.io/api",J=function(e){var n={url:"/users",method:"post",baseURL:B,data:e};return V()(n)},M=function(e){var n={url:"/users/login",method:"post",baseURL:B,data:e};return V()(n)},Y=function(e){var n=d(),t={url:"/user",method:"get",baseURL:B,headers:{Authorization:"Token ".concat(n)}};return V()(t)},W=function(e){return{type:"LOGIN_USER_SUCCESS",response:e}},X=function(e){return{type:"LOGIN_USER_FAILURE",response:e}},Z=function(e){return{type:"CREATE_USER_SUCCESS",response:e}},$=function(e){return{type:"CREATE_USER_FAILURE",response:e}},ee=function(e){return{type:"CHECK_USER_SUCCESS",response:e}},ne=function(e){return{type:"CHECK_USER_FAILURE",response:e}},te=function(e){return function(){var e=Object(K.a)(z.a.mark((function e(n){var t;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n({type:"CHECK_USER_REQUEST"}),e.prev=1,e.next=4,Y();case 4:t=e.sent,n(ee(t)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),n(ne(e.t0));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(n){return e.apply(this,arguments)}}()},re=Object(c.b)((function(e){return e}),(function(e){return{logInUser:function(n){return e(function(e){return function(){var n=Object(K.a)(z.a.mark((function n(t){var r;return z.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t({type:"LOGIN_USER_REQUEST"}),n.prev=1,n.next=4,M(e);case 4:r=n.sent,t(W(r)),n.next=12;break;case 8:n.prev=8,n.t0=n.catch(1),t(X(n.t0)),p(n.t0);case 12:case"end":return n.stop()}}),n,null,[[1,8]])})));return function(e){return n.apply(this,arguments)}}()}(n))}}}))((function(e){var n=e.logInUser,t=e.currentUser,r=Object(y.a)({initialValues:{email:"",password:""},onSubmit:function(e){var t=e.email,r=e.password;n({user:{email:t,password:r}})}});return 0!==t?a.a.createElement(U.a,{to:"/home"}):a.a.createElement(H,null,a.a.createElement(L,null,a.a.createElement(G,null,"Sign In")),a.a.createElement(w.a,{name:"normal_login",className:"login-form",initialValues:{remember:!0},onFinish:r.handleSubmit},a.a.createElement(P,null,"Email address"),a.a.createElement(w.a.Item,{name:"email",rules:[{type:"email",message:"The input is not valid E-mail!"},{required:!0,message:"Please input your Email!"}]},a.a.createElement(C.a,{id:"email",placeholder:"Email address",onChange:r.handleChange,value:r.values.email})),a.a.createElement(P,null,"Password"),a.a.createElement(w.a.Item,{name:"password",rules:[{required:!0,message:"Please input your Password!"}]},a.a.createElement(C.a,{id:"password",type:"password",placeholder:"Password",onChange:r.handleChange,value:r.values.password})),a.a.createElement(w.a.Item,null,a.a.createElement(O.a,{type:"primary",htmlType:"submit",className:"login-form-button"},"Login"),a.a.createElement(N,null,a.a.createElement(G,null,"Don\u2019t have an account?"," ",a.a.createElement(S.b,{to:"/signup"},"Sign Un"))))))})),ae=t(179),oe=t(345),ue=Object(c.b)((function(e){return e}),(function(e){return{createNewUser:function(n){return e(function(e){return function(){var n=Object(K.a)(z.a.mark((function n(t){var r;return z.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t({type:"CREATE_USER_REQUEST"}),n.prev=1,n.next=4,J(e);case 4:r=n.sent,t(Z(r)),n.next=12;break;case 8:n.prev=8,n.t0=n.catch(1),t($(n.t0)),s(n.t0);case 12:case"end":return n.stop()}}),n,null,[[1,8]])})));return function(e){return n.apply(this,arguments)}}()}(n))}}}))((function(e){e.currentUser;var n=e.createNewUser,t=(e.newUser,w.a.useForm()),r=Object(ae.a)(t,1)[0],o=Object(y.a)({initialValues:{email:"",username:"",password:""},onSubmit:function(e){var t=e.email,r=e.password,a=e.username;n({user:{email:t,password:r,username:a}})}});return a.a.createElement(H,null,a.a.createElement(L,null,a.a.createElement(G,null," Create new account ")," ")," ",a.a.createElement(w.a,{form:r,name:"register",onFinish:o.handleSubmit,initialValues:{}},a.a.createElement(P,null," Username ")," ",a.a.createElement(w.a.Item,{name:"username",rules:[{required:!0,message:"Please input your nickname!",whitespace:!0}]},a.a.createElement(C.a,{onChange:o.handleChange,value:o.values.username,id:"username",placeholder:"Username"}))," ",a.a.createElement(P,null," Email address ")," ",a.a.createElement(w.a.Item,{name:"email",rules:[{type:"email",message:"The input is not valid E-mail!"},{required:!0,message:"Please input your E-mail!"}]},a.a.createElement(C.a,{onChange:o.handleChange,value:o.values.email,id:"email",placeholder:"Email address"}))," ",a.a.createElement(P,null," Password ")," ",a.a.createElement(w.a.Item,{name:"password",rules:[{required:!0,message:"Please input your password!"},{min:8,message:"Your password needs to be at least 8 characters"}],hasFeedback:!0},a.a.createElement(C.a.Password,{onChange:o.handleChange,value:o.values.password,id:"password",placeholder:"Password"}))," ",a.a.createElement(P,null," Repeat Password ")," ",a.a.createElement(w.a.Item,{name:"confirm",dependencies:["password"],hasFeedback:!0,rules:[{required:!0,message:"Please confirm your password!"},function(e){var n=e.getFieldValue;return{validator:function(e,t){return t&&n("password")!==t?Promise.reject("Passwords must match"):Promise.resolve()}}}]},a.a.createElement(C.a.Password,{placeholder:"Password"}))," ",a.a.createElement(D,null),a.a.createElement(w.a.Item,{name:"agreement",valuePropName:"checked",rules:[{validator:function(e,n){return n?Promise.resolve():Promise.reject("Should accept agreement")}}]},a.a.createElement(oe.a,null,"I agree to the processing of my personal information"," ")),a.a.createElement(w.a.Item,null,a.a.createElement(O.a,{type:"primary",htmlType:"submit"},"Create"," ")," ")," ",a.a.createElement(N,null,a.a.createElement(G,null,"Already have an account ?"," ",a.a.createElement(S.b,{to:"/signin"}," Sign In ")," ")," ")," ")," ")}));function ce(){var e=Object(R.a)(["\nmargin-top: 59px;\nmargin-right: auto;\nmargin-left: auto;\nwidth: 384px;\n\npadding: 48px 32px;\n\nbackground: #FFFFFF;\nborder: 1px solid #D9D9D9;\n\nbox-shadow: 0px 0.608796px 2.93329px rgba(0, 0, 0, 0.0196802), 0px 1.46302px 7.04911px rgba(0, 0, 0, 0.0282725), 0px 2.75474px 13.2728px rgba(0, 0, 0, 0.035), 0px 4.91399px 23.6765px rgba(0, 0, 0, 0.0417275), 0px 9.19107px 44.2843px rgba(0, 0, 0, 0.0503198), 0px 22px 106px rgba(0, 0, 0, 0.07);\nborder-radius: 6px;\n"]);return ce=function(){return e},e}function ie(){var e=Object(R.a)(["\nbackground: #E5E5E5;\nbackground-size: cover;\npadding-bottom: 20px;\nheight: 100%;\n"]);return ie=function(){return e},e}var le=_.a.section(ie()),se=_.a.div(ce()),pe=function(e){Object(v.a)(t,e);var n=Object(x.a)(t);function t(){return Object(h.a)(this,t),n.apply(this,arguments)}return Object(b.a)(t,[{key:"render",value:function(){return a.a.createElement(se,null,"\u0412\u0441\u0435 \u043f\u043e\u043b\u0443\u0447\u0438\u043b\u043e\u0441\u044c :)")}}]),t}(a.a.Component),me=Object(c.b)((function(e){return e}),(function(e){return{checkCurrentUser:function(n){return e(te())}}}))(pe);function de(){var e=Object(R.a)(["\ndisplay: block;\nwidth: 110px;\nheight: 50px;\npadding-top: 10px;\npadding-left: 20px;\n\nfont-weight: normal;\nfont-size: 18px;\n\ncolor: #52C41A;\n\nborder: 1px solid #52C41A;\nborder-radius: 5px;\n"]);return de=function(){return e},e}function Ee(){var e=Object(R.a)(["\ncolor: rgba(0, 0, 0, 0.85);\nmargin-right: 10px;\n"]);return Ee=function(){return e},e}function fe(){var e=Object(R.a)(["\n\ndisplay: flex;\njustify-content: space-between;\nalign-items: center;\nwidth: 100%;\nmargin-left: 22px;\nmargin-right: 22px;\nfont-weight: normal;\nfont-size: 18px;\n\ncolor: rgba(0, 0, 0, 0.85);\n"]);return fe=function(){return e},e}function ge(){var e=Object(R.a)(["\ndisplay: flex;\njustify-content: space-between;\nalign-items: center;\nbackground: #FFFFFF;\nheight: 80px;\n"]);return ge=function(){return e},e}var he=_.a.header(ge()),be=_.a.div(fe()),ve=_.a.div(Ee()),xe=_.a.div(de()),Ue=function(e){Object(v.a)(t,e);var n=Object(x.a)(t);function t(){var e;Object(h.a)(this,t);for(var r=arguments.length,o=new Array(r),u=0;u<r;u++)o[u]=arguments[u];return(e=n.call.apply(n,[this].concat(o))).signInHeader=function(){var n=e.props,t=n.currentUser,r=n.logOut;return 0!==t?a.a.createElement(be,null,a.a.createElement(ve,null,t.username),a.a.createElement(xe,null,a.a.createElement(S.b,{onClick:r,to:"/signin"},"Log Out"))):null},e}return Object(b.a)(t,[{key:"render",value:function(){return a.a.createElement(he,null,a.a.createElement(be,null,"Realworld Blog"),this.signInHeader())}}]),t}(a.a.Component),Se=Object(c.b)((function(e){return e}),(function(e){return{logOut:function(){return e({type:"LOGOUT_USER"})}}}))(Ue),we=function(e){var n=e.children,t=e.redirect,r=e.redirectTo;return a.a.createElement(U.b,{render:function(){return t?n:a.a.createElement(U.a,{to:r})}})},Ce=function(e){Object(v.a)(t,e);var n=Object(x.a)(t);function t(){var e;Object(h.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=n.call.apply(n,[this].concat(a))).isAuthenticated=function(){return 0!==e.props.currentUser},e}return Object(b.a)(t,[{key:"componentDidMount",value:function(){null!==d()&&this.props.checkCurrentUser()}},{key:"render",value:function(){return a.a.createElement(S.a,null,a.a.createElement(le,null,a.a.createElement(Se,null),a.a.createElement(U.d,null,a.a.createElement(we,{exact:!0,path:"/home",redirectTo:"/signin",redirect:this.isAuthenticated()},a.a.createElement(me,null)),a.a.createElement(we,{exact:!0,path:"/signin",redirectTo:"/home",redirect:!this.isAuthenticated()},a.a.createElement(re,null)),a.a.createElement(we,{exact:!0,path:"/signup",redirectTo:"/home",redirect:!this.isAuthenticated()},a.a.createElement(ue,null)),a.a.createElement(U.a,{from:"/",to:"/home"}))))}}]),t}(a.a.Component),Oe=Object(c.b)((function(e){return e}),(function(e){return{checkCurrentUser:function(n){return e(te())}}}))(Ce);u.a.render(a.a.createElement(c.a,{store:g},a.a.createElement(Oe,null)),document.getElementById("root"))}},[[182,1,2]]]);
//# sourceMappingURL=main.15362f33.chunk.js.map